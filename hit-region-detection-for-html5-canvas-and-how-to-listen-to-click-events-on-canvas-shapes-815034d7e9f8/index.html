<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.14df555390639bcec640.css">code[class*=language-],pre[class*=language-]{color:#fff;background:none;font-family:Consolas,Menlo,Monaco,source-code-pro,Courier New,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;margin-bottom:0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{overflow:auto;padding:1em}pre[class*=language-]::-moz-selection{background:#27292a}pre[class*=language-]::selection{background:#27292a}pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:hsla(0,0%,100%,.15)}pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:hsla(0,0%,100%,.15)}:not(pre)>code[class*=language-]{border-radius:.3em;background:rgba(255,229,100,.2);color:#1a1a1a;padding:.15em .2em .05em;white-space:normal}.token.attr-name{color:#addb67;font-style:italic}.token.comment{color:#637777}.token.string,.token.url{color:#addb67}.token.variable{color:#d6deeb}.token.number{color:#f78c6c}.token.builtin,.token.char,.token.constant,.token.function{color:#82aaff}.token.punctuation{color:#c792ea}.token.doctype,.token.selector{color:#c792ea;font-style:"italic"}.token.class-name{color:#ffcb8b}.token.keyword,.token.operator,.token.tag{color:#ffa7c4}.token.boolean{color:#ff5874}.token.property{color:#80cbc4}.token.namespace{color:#b2ccd6}pre[data-line]{padding:1em 0 1em 3em;position:relative}.gatsby-highlight-code-line{background-color:#022a4b;display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:.75em;border-left:.25em solid #ffa7c4}.gatsby-highlight{margin-bottom:1.75rem;border-radius:10px;background:#011627;-webkit-overflow-scrolling:touch;overflow:auto}.gatsby-highlight pre[class*=language-]{float:left;min-width:100%}</style><meta name="generator" content="Gatsby 2.23.7"/><script>window.__EMOTION_CRITICAL_CSS_IDS__ = ["j4gise","1eugmea","kufnxr","t0tfly","16mjt3a","1x0l29j","s2cjas","1ptyxcl","1l1dftb","1mpn83","1amu95n","1ugh7vk","a1zygu","1trdsxq","vyvttm","wvuzp6","25mjrn","cniab2","1im5alu","c5o3fs","njyqyw","et0m70","ldwdh4","bv6m2k","1t8n8jv","1o98v2d","12kejdt","xng9va","1d05jhl","qbcumt","y0gtj6","1x76w68","1mqgav7","t8u9qr","8kte6t","123mfn9","z4f0wj","8kn4zf","1pcdrot","1uyhyqd","zb10i8","j0kq43"];</script><style>.css-j4gise{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:block;margin-right:24px;padding:11px 0;color:#fff;font-size:1.7rem;line-height:1em;font-weight:bold;-webkit-letter-spacing:-0.5px;-moz-letter-spacing:-0.5px;-ms-letter-spacing:-0.5px;letter-spacing:-0.5px;}.css-j4gise:hover{-webkit-text-decoration:none;text-decoration:none;}.css-j4gise img{display:block;width:auto;height:21px;}.css-1eugmea{-webkit-flex:1 1 300px;-ms-flex:1 1 300px;flex:1 1 300px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;margin:0 20px 40px;min-height:300px;background:#fff center center;background-size:cover;border-radius:5px;box-shadow:rgba(39,44,49,0.06) 8px 14px 38px,rgba(39,44,49,0.03) 1px 3px 8px;-webkit-transition:all 0.5s ease;transition:all 0.5s ease;}.css-1eugmea:hover{box-shadow:rgba(39,44,49,0.07) 8px 28px 50px,rgba(39,44,49,0.04) 1px 6px 12px;-webkit-transition:all 0.4s ease;transition:all 0.4s ease;-webkit-transform:translate3D(0,-1px,0) scale(1.02);-ms-transform:translate3D(0,-1px,0) scale(1.02);transform:translate3D(0,-1px,0) scale(1.02);}.css-kufnxr{position:relative;display:block;overflow:hidden;border-radius:5px 5px 0 0;}.css-t0tfly{position:relative;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:block;padding:25px 25px 0;color:#15171A;}.css-t0tfly:hover{-webkit-text-decoration:none;text-decoration:none;}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline;}body{line-height:1;}ol,ul{list-style:none;}blockquote,q{quotes:none;}blockquote:before,blockquote:after,q:before,q:after{content:"";content:none;}table{border-spacing:0;border-collapse:collapse;}img{max-width:100%;}html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;}*,*:before,*:after{box-sizing:inherit;}a{background-color:transparent;}a:active,a:hover{outline:0;}b,strong{font-weight:bold;}i,em,dfn{font-style:italic;}h1{margin:0.67em 0;font-size:2em;}small{font-size:80%;}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline;}sup{top:-0.5em;}sub{bottom:-0.25em;}img{border:0;}svg:not(:root){overflow:hidden;}mark{background-color:#fdffb6;}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em;}button,input,optgroup,select,textarea{margin:0;color:inherit;font:inherit;}button{overflow:visible;border:none;}button,select{text-transform:none;}button,html input[type="button"],input[type="reset"],input[type="submit"]{cursor:pointer;-webkit-appearance:button;}button[disabled],html input[disabled]{cursor:default;}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0;}input{line-height:normal;}input:focus{outline:none;}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0;}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto;}input[type="search"]{box-sizing:content-box;-webkit-appearance:textfield;}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none;}legend{padding:0;border:0;}textarea{overflow:auto;}table{border-spacing:0;border-collapse:collapse;}td,th{padding:0;}html{overflow-x:hidden;overflow-y:scroll;font-size:62.5%;-webkit-tap-highlight-color:rgba(0,0,0,0);}body{overflow-x:hidden;color:#3b474d;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;font-size:1.5rem;line-height:1.6em;font-weight:400;font-style:normal;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;text-rendering:optimizeLegibility;background:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-font-feature-settings:"liga" on;}::selection{text-shadow:none;background:#cbeafb;}hr{position:relative;display:block;width:100%;margin:2.5em 0 3.5em;padding:0;height:1px;border:0;border-top:1px solid #e4eaed;}audio,canvas,iframe,img,svg,video{vertical-align:middle;}fieldset{margin:0;padding:0;border:0;}textarea{resize:vertical;}p,ul,ol,dl,blockquote{margin:0 0 1.5em 0;}ol,ul{padding-left:1.3em;padding-right:1.5em;}ol ol,ul ul,ul ol,ol ul{margin:0.5em 0 1em;}ul{list-style:disc;}ol{list-style:decimal;}ul,ol{max-width:100%;}li{margin:0.5em 0;padding-left:0.3em;line-height:1.6em;}dt{float:left;margin:0 20px 0 0;width:120px;color:#15171A;font-weight:500;text-align:right;}dd{margin:0 0 5px 0;text-align:left;}blockquote{margin:1.5em 0;padding:0 1.6em 0 1.6em;border-left:#e5eff5 0.5em solid;}blockquote p{margin:0.8em 0;font-size:1.2em;font-weight:300;}blockquote small{display:inline-block;margin:0.8em 0 0.8em 1.5em;font-size:0.9em;opacity:0.8;}blockquote small:before{content:"\2014 \00A0";}blockquote cite{font-weight:bold;}blockquote cite a{font-weight:normal;}a{color:#26a6ed;-webkit-text-decoration:none;text-decoration:none;}a:hover{-webkit-text-decoration:underline;text-decoration:underline;}h1,h2,h3,h4,h5,h6{margin-top:0;line-height:1.15;font-weight:700;text-rendering:optimizeLegibility;}h1{margin:0 0 0.5em 0;font-size:5rem;font-weight:700;}@media (max-width:500px){h1{font-size:2.2rem;}}h2{margin:1.5em 0 0.5em 0;font-size:2rem;}@media (max-width:500px){h2{font-size:1.8rem;}}h3{margin:1.5em 0 0.5em 0;font-size:1.8rem;font-weight:500;}@media (max-width:500px){h3{font-size:1.7rem;}}h4{margin:1.5em 0 0.5em 0;font-size:1.6rem;font-weight:500;}h5{margin:1.5em 0 0.5em 0;font-size:1.4rem;font-weight:500;}h6{margin:1.5em 0 0.5em 0;font-size:1.4rem;font-weight:500;}body{background:#f4f8fb;}.css-1x0l29j{position:relative;padding:0 4vw;}.css-s2cjas{margin:0 auto;max-width:1040px;width:100%;}.css-1ptyxcl{z-index:100;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}.css-1l1dftb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0;padding:10px;color:#fff;opacity:0.8;}.css-1l1dftb:hover{opacity:1;}.css-1l1dftb svg{height:1.8rem;fill:#fff;}.css-1mpn83{position:relative;padding-top:12px;padding-bottom:12px;color:#fff;background:#0a0b0c no-repeat center center;background-size:cover;}.css-1amu95n{position:relative;padding-top:20px;padding-bottom:60px;color:#fff;background:#000;}.css-1ugh7vk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(255,255,255,0.7);font-size:1.3rem;}.css-1ugh7vk a{color:rgba(255,255,255,0.7);}.css-1ugh7vk a:hover{color:rgba(255,255,255,1);-webkit-text-decoration:none;text-decoration:none;}@media (max-width:650px){.css-1ugh7vk{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}.css-a1zygu{position:relative;z-index:300;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;overflow-y:hidden;height:40px;font-size:1.2rem;}.css-1trdsxq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0 0 0 -12px;padding:0;list-style:none;}.css-1trdsxq li{display:block;margin:0;padding:0;text-transform:uppercase;}.css-1trdsxq li a{display:block;margin:0;padding:10px 12px;color:#fff;opacity:0.8;}.css-1trdsxq li a:hover{-webkit-text-decoration:none;text-decoration:none;opacity:1;}.css-vyvttm{position:relative;z-index:50;}.css-wvuzp6{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}.css-wvuzp6 .site-main{background:#fff;padding-bottom:4vw;}.css-25mjrn{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;margin-right:10px;padding-bottom:80px;-webkit-letter-spacing:0.4px;-moz-letter-spacing:0.4px;-ms-letter-spacing:0.4px;letter-spacing:0.4px;white-space:nowrap;-ms-overflow-scrolling:touch;}@media (max-width:700px){.css-25mjrn{margin-right:0;padding-left:4vw;}}.css-cniab2{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:40px;}@media (max-width:700px){.css-cniab2{display:none;}}.css-1im5alu{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-1im5alu a:last-of-type{padding-right:20px;}.css-c5o3fs{margin:0 auto;padding:3vw 3vw 3vw;max-width:1040px;text-align:center;}@media (max-width:500px){.css-c5o3fs{padding:7vw 3vw 10vw;}}.css-njyqyw{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#738a94;font-size:1.4rem;font-weight:600;text-transform:uppercase;}@media (max-width:500px){.css-njyqyw{font-size:1.2rem;line-height:1.3em;}}.css-et0m70{color:#3eb0ef;}.css-ldwdh4{margin:0;color:#0b0c0e;}@media (max-width:500px){.css-ldwdh4{font-size:2.9rem;}}.css-bv6m2k{margin:0 -10vw -165px;height:800px;background:#c5d2d9 center center;background-size:cover;border-radius:5px;}@media (max-width:1170px){.css-bv6m2k{margin:0 -4vw -140px;height:600px;border-radius:0;}}@media (max-width:800px){.css-bv6m2k{height:400px;}}@media (max-width:500px){.css-bv6m2k{margin-bottom:4vw;height:350px;}}.css-1t8n8jv{position:relative;margin:0 auto;padding:70px 100px 0;min-height:230px;font-family:Georgia,serif;font-size:2.2rem;line-height:1.6em;background:#fff;}@media (max-width:1170px){.css-1t8n8jv{padding:5vw 7vw 0;}}@media (max-width:800px){.css-1t8n8jv{font-size:1.9rem;}}.css-1t8n8jv:before{content:'';position:absolute;top:15px;left:-5px;z-index:-1;display:block;width:20px;height:200px;background:rgba(39,44,49,0.15);-webkit-filter:blur(5px);filter:blur(5px);-webkit-transform:rotate(-5deg);-ms-transform:rotate(-5deg);transform:rotate(-5deg);}.css-1t8n8jv:after{content:'';position:absolute;top:15px;right:-5px;z-index:-1;display:block;width:20px;height:200px;background:rgba(39,44,49,0.15);-webkit-filter:blur(5px);filter:blur(5px);-webkit-transform:rotate(5deg);-ms-transform:rotate(5deg);transform:rotate(5deg);}.css-1t8n8jv h1,.css-1t8n8jv h2,.css-1t8n8jv h3,.css-1t8n8jv h4,.css-1t8n8jv h5,.css-1t8n8jv h6,.css-1t8n8jv p,.css-1t8n8jv ul,.css-1t8n8jv ol,.css-1t8n8jv dl,.css-1t8n8jv pre,.css-1t8n8jv blockquote,.css-1t8n8jv .post-full-comments,.css-1t8n8jv .footnotes{min-width:100%;}.css-1t8n8jv li{word-break:break-word;}.css-1t8n8jv li p{margin:0;}.css-1t8n8jv a{color:#000;word-break:break-word;box-shadow:#3eb0ef 0 -1px 0 inset;}.css-1t8n8jv a:hover{color:#3eb0ef;-webkit-text-decoration:none;text-decoration:none;}.css-1t8n8jv strong,.css-1t8n8jv em{color:#0a0b0c;}.css-1t8n8jv small{display:inline-block;line-height:1.6em;}.css-1t8n8jv li:first-child{margin-top:0;}.css-1t8n8jv img,.css-1t8n8jv video{display:block;margin:1.5em auto;max-width:1040px;height:auto;box-shadow:0 0 8px lightgrey;width:100%;}.css-1t8n8jv img[src$='#full']{max-width:none;width:100vw;}.css-1t8n8jv img + br + small{display:block;margin-top:-3em;margin-bottom:1.5em;text-align:center;}.css-1t8n8jv iframe{margin:0 auto !important;}.css-1t8n8jv blockquote{margin:0 0 1.5em;padding:0 1.5em;border-left:#3eb0ef 3px solid;}.css-1t8n8jv blockquote p{margin:0 0 1em 0;color:inherit;font-size:inherit;line-height:inherit;font-style:italic;}.css-1t8n8jv blockquote p:last-child{margin-bottom:0;}.css-1t8n8jv code{padding:0 5px 2px;font-size:0.8em;line-height:1em;font-weight:400 !important;background:#e5eff5;border-radius:3px;}.css-1t8n8jv p code{word-break:break-all;}.css-1t8n8jv pre{overflow-x:auto;padding:20px;max-width:100%;border:#131517 1px solid;color:#e5eff5;font-size:1.4rem;line-height:1.5em;background:#0e1012;border-radius:5px;}.css-1t8n8jv pre code{padding:0;font-size:inherit;line-height:inherit;background:transparent;}.css-1t8n8jv pre code:not(span){color:inherit;}.css-1t8n8jv .gatsby-resp-iframe-wrapper{margin:1.5em 0 3em;}.css-1t8n8jv hr{margin:4vw 0;}.css-1t8n8jv hr:after{content:'';position:absolute;top:-15px;left:50%;display:block;margin-left:-10px;width:1px;height:30px;background:#e4eaed;box-shadow:#fff 0 0 0 5px;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}.css-1t8n8jv h1,.css-1t8n8jv h2,.css-1t8n8jv h3,.css-1t8n8jv h4,.css-1t8n8jv h5,.css-1t8n8jv h6{color:#0b0c0e;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;}.css-1t8n8jv h1{margin:0.5em 0 0.2em 0;font-size:4.6rem;font-weight:700;}@media (max-width:500px){.css-1t8n8jv h1{font-size:2.8rem;}}.css-1t8n8jv h2{margin:0.5em 0 0.2em 0;font-size:3.6rem;font-weight:700;}@media (max-width:500px){.css-1t8n8jv h2{font-size:2.6rem;}}.css-1t8n8jv h3{margin:0.5em 0 0.2em 0;font-size:2.8rem;font-weight:700;}@media (max-width:500px){.css-1t8n8jv h3{font-size:2.2rem;}}.css-1t8n8jv h4{margin:0.5em 0 0.2em 0;font-size:2.8rem;font-weight:700;}@media (max-width:500px){.css-1t8n8jv h4{font-size:2.2rem;}}.css-1t8n8jv h5{display:block;margin:0.5em 0;padding:1em 0 1.5em;border:0;color:#3eb0ef;font-family:Georgia,serif;font-size:3.2rem;line-height:1.35em;text-align:center;}@media (min-width:1180px){.css-1t8n8jv h5{max-width:1060px;}}@media (max-width:500px){.css-1t8n8jv h5{padding:0 0 0.5em;font-size:2.2rem;}}.css-1t8n8jv h6{margin:0.5em 0 0.2em 0;font-size:2.3rem;font-weight:700;}@media (max-width:500px){.css-1t8n8jv h6{font-size:2rem;}}.css-1t8n8jv table{display:inline-block;overflow-x:auto;margin:0.5em 0 2.5em;max-width:100%;width:auto;border-spacing:0;border-collapse:collapse;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;font-size:1.6rem;white-space:nowrap;vertical-align:top;}.css-1t8n8jv table{-webkit-overflow-scrolling:touch;background:radial-gradient(ellipse at left,rgba(0,0,0,0.2) 0%,rgba(0,0,0,0) 75%) 0 center,radial-gradient(ellipse at right,rgba(0,0,0,0.2) 0%,rgba(0,0,0,0) 75%) 100% center;background-attachment:scroll,scroll;background-size:10px 100%,10px 100%;background-repeat:no-repeat;}.css-1t8n8jv table td:first-child{background-image:linear-gradient( to right,rgba(255,255,255,1) 50%,rgba(255,255,255,0) 100% );background-size:20px 100%;background-repeat:no-repeat;}.css-1t8n8jv table td:last-child{background-image:linear-gradient( to left,rgba(255,255,255,1) 50%,rgba(255,255,255,0) 100% );background-position:100% 0;background-size:20px 100%;background-repeat:no-repeat;}.css-1t8n8jv table th{color:#15171A;font-size:1.2rem;font-weight:700;-webkit-letter-spacing:0.2px;-moz-letter-spacing:0.2px;-ms-letter-spacing:0.2px;letter-spacing:0.2px;text-align:left;text-transform:uppercase;background-color:#f4f8fb;}.css-1t8n8jv table th,.css-1t8n8jv table td{padding:6px 12px;border:#e9ebec 1px solid;}@media (max-width:500px){.css-1t8n8jv{padding:0;}.css-1t8n8jv:before{display:none;}.css-1t8n8jv:after{display:none;}}.css-1o98v2d{margin:0 auto;padding:3vw 0 6vw 0;max-width:840px;}.css-12kejdt{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 -20px;padding:40px 0 0 0;}.css-xng9va{position:relative;-webkit-flex:1 1 300px;-ms-flex:1 1 300px;flex:1 1 300px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;margin:0 20px 40px;padding:25px;color:#fff;background:#15171A center center;background-size:cover;border-radius:5px;box-shadow:rgba(39,44,49,0.06) 8px 14px 38px,rgba(39,44,49,0.03) 1px 3px 8px;background-image:url("/static/f55e924eff608d71da37e57b398c587d/a41d1/blog-cover.jpg");}.css-xng9va:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;display:block;background:linear-gradient(135deg,rgba(0,40,60,0.8) 0%,rgba(0,20,40,0.7) 100%);border-radius:5px;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);}.css-1d05jhl{position:relative;z-index:50;padding-top:20px;text-align:center;}.css-qbcumt{display:block;font-size:1.3rem;line-height:1.3em;opacity:0.8;}.css-y0gtj6{margin:0;padding:0 20px;color:#fff;font-size:3rem;line-height:1.2em;-webkit-letter-spacing:1px;-moz-letter-spacing:1px;-ms-letter-spacing:1px;letter-spacing:1px;}.css-y0gtj6 a{color:#fff;font-weight:300;-webkit-text-decoration:none;text-decoration:none;}.css-y0gtj6 a:hover{-webkit-text-decoration:none;text-decoration:none;}.css-1x76w68{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:80px;}.css-1x76w68 svg{width:40px;fill:transparent;stroke:#fff;stroke-width:0.5px;stroke-opacity:0.65;}.css-1mqgav7{position:relative;z-index:50;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:1.7rem;}.css-1mqgav7 ul{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:0 auto;padding:0;text-align:center;list-style:none;}.css-1mqgav7 li{margin:0;padding:0;font-size:1.6rem;line-height:1.25em;font-weight:200;-webkit-letter-spacing:-0.5px;-moz-letter-spacing:-0.5px;-ms-letter-spacing:-0.5px;letter-spacing:-0.5px;}.css-1mqgav7 li a{display:block;padding:20px 0;border-bottom:rgba(255,255,255,0.3) 1px solid;color:#fff;font-weight:500;vertical-align:top;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;}.css-1mqgav7 li:first-of-type a{padding-top:10px;}.css-1mqgav7 li a:hover{opacity:1;}.css-t8u9qr{position:relative;margin:15px 0 3px 0;text-align:center;}.css-t8u9qr a{color:#fff;}.css-8kte6t{width:auto;height:200px;background:#c5d2d9 no-repeat center center;background-size:cover;}.css-123mfn9{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}.css-z4f0wj{display:block;margin-bottom:4px;color:#738a94;font-size:1.2rem;line-height:1.15em;font-weight:500;-webkit-letter-spacing:0.5px;-moz-letter-spacing:0.5px;-ms-letter-spacing:0.5px;letter-spacing:0.5px;text-transform:uppercase;}.css-8kn4zf{margin-top:0;}.css-1pcdrot{font-family:Georgia,serif;}.css-1uyhyqd{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;padding:0 25px 25px;}.css-zb10i8{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-left:20px;color:#738a94;font-size:1.2rem;line-height:33px;font-weight:500;-webkit-letter-spacing:0.5px;-moz-letter-spacing:0.5px;-ms-letter-spacing:0.5px;letter-spacing:0.5px;text-transform:uppercase;}.css-j0kq43{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.css-j0kq43 a{position:relative;margin-left:20px;}.css-j0kq43 a:before{content:'';position:absolute;top:11px;left:-11px;display:block;width:2px;height:2px;background:#fff;border-radius:100%;}.css-j0kq43 a:first-of-type:before{display:none;}@media (max-width:650px){.css-j0kq43 a:first-child{margin-left:0;}}</style><link rel="canonical" href="https://lavrton.com/blog/hit-region-detection-for-html5-canvas-and-how-to-listen-to-click-events-on-canvas-shapes-815034d7e9f8/" data-baseprotocol="https:" data-basehost="lavrton.com"/><title data-react-helmet="true">Hit Region Detection For HTML5 Canvas And How To Listen To Click Events On Canvas Shapes</title><meta data-react-helmet="true" property="og:site_name" content="Anton Lavrenov Blog"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Hit Region Detection For HTML5 Canvas And How To Listen To Click Events On Canvas Shapes"/><meta data-react-helmet="true" property="og:description" content="Do you need a simple onClick for your canvas shapes? But canvas doesn’t have API for such listeners. You can listen to events only on whole…"/><meta data-react-helmet="true" property="og:url" content="https://lavrton.com/hit-region-detection-for-html5-canvas-and-how-to-listen-to-click-events-on-canvas-shapes-815034d7e9f8/"/><meta data-react-helmet="true" property="og:image" content="https://lavrton.com/static/e5e1eb4ed49dca622652c015529f2f52/47498/canvas-events-cover.jpg"/><meta data-react-helmet="true" property="article:published_time" content="2017-02-22"/><meta data-react-helmet="true" property="article:tag" content="canvas"/><meta data-react-helmet="true" property="article:publisher" content="https://twitter.com/lavrton"/><meta data-react-helmet="true" property="article:author" content="https://twitter.com/lavrton"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="Hit Region Detection For HTML5 Canvas And How To Listen To Click Events On Canvas Shapes"/><meta data-react-helmet="true" name="twitter:description" content="Do you need a simple onClick for your canvas shapes? But canvas doesn’t have API for such listeners. You can listen to events only on whole…"/><meta data-react-helmet="true" name="twitter:url" content="https://lavrton.com/hit-region-detection-for-html5-canvas-and-how-to-listen-to-click-events-on-canvas-shapes-815034d7e9f8/"/><meta data-react-helmet="true" name="twitter:image" content="https://lavrton.com/static/e5e1eb4ed49dca622652c015529f2f52/47498/canvas-events-cover.jpg"/><meta data-react-helmet="true" name="twitter:label1" content="Written by"/><meta data-react-helmet="true" name="twitter:data1" content="Anton"/><meta data-react-helmet="true" name="twitter:label2" content="Filed under"/><meta data-react-helmet="true" name="twitter:data2" content="canvas"/><meta data-react-helmet="true" name="twitter:site" content="@lavrton"/><meta data-react-helmet="true" name="twitter:creator" content="@lavrton"/><meta data-react-helmet="true" property="og:image:width" content="1200"/><meta data-react-helmet="true" property="og:image:height" content="800"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="preconnect" href="https://plausible.io"/><script async="" defer="" data-domain="lavrton.com" src="https://plausible.io/js/plausible.js"></script><script>
          window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) };
          
          </script><link as="script" rel="preload" href="/webpack-runtime-ac89df50191049f928b5.js"/><link as="script" rel="preload" href="/framework-93d3a746c3cf42acdafc.js"/><link as="script" rel="preload" href="/styles-f7a64dad1c13bebc31fd.js"/><link as="script" rel="preload" href="/app-3392d9424e41ca5a632f.js"/><link as="script" rel="preload" href="/29107295-4662ce85ded940e8603c.js"/><link as="script" rel="preload" href="/commons-0791c234037d212357cf.js"/><link as="script" rel="preload" href="/c44e937923e4cbf27ce51c07ed03d2aa67625591-f644a3b2640002cf2a76.js"/><link as="script" rel="preload" href="/component---src-templates-post-tsx-ab04a82b64e57df04446.js"/><link as="fetch" rel="preload" href="/page-data/hit-region-detection-for-html5-canvas-and-how-to-listen-to-click-events-on-canvas-shapes-815034d7e9f8/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="post-template"><div class="css-wvuzp6 e16n03ac0"><header class="css-1mpn83 css-1x0l29j"><div class="css-s2cjas"><nav class=" css-a1zygu"><div class="css-25mjrn eey3yda0"><a class="css-j4gise site-nav-logo" href="/"><img src="/static/959faec6c99ee421c10fe433dc96bf9b/497c6/logo.png" alt="Anton Lavrenov Blog"/></a><ul class="css-1trdsxq" role="menu"><li role="menuitem"><a href="/">Home</a></li><li role="menuitem"><a href="/consulting">Consulting</a></li><li role="menuitem"><a href="/tags/canvas/">Canvas</a></li><li role="menuitem"><a href="/tags/javascript/">Javascript</a></li><li role="menuitem"><a href="/tags/react/">React</a></li></ul></div><div class="css-cniab2 eey3yda1"><div class="css-1im5alu eey3yda2"><a class="css-1l1dftb" href="https://twitter.com/lavrton" title="Twitter" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg></a></div></div></nav></div></header><main id="site-main" class="site-main css-1ptyxcl css-1x0l29j"><div class="css-s2cjas"><article class="css-vyvttm "><header class="css-c5o3fs e1qa4i0i0"><section class="css-njyqyw e1qa4i0i1"><time dateTime="2017-02-22" class="css-et0m70 e1qa4i0i2">22 February 2017</time></section><h1 class="css-ldwdh4 e1qa4i0i3">Hit Region Detection For HTML5 Canvas And How To Listen To Click Events On Canvas Shapes</h1></header><figure class="css-bv6m2k e1qa4i0i4"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:100%"><div aria-hidden="true" style="width:100%;padding-bottom:66.66666666666667%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMBBP/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAZX7BoP/xAAaEAEAAwADAAAAAAAAAAAAAAABAAIDEBES/9oACAEBAAEFAti+m9Fpp6qxBgdcf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABwQAAICAgMAAAAAAAAAAAAAAAERAAISIDFBUf/aAAgBAQAGPwIpitYw8D15OdP/xAAcEAEAAgIDAQAAAAAAAAAAAAABABEhMUFRYfH/2gAIAQEAAT8hDnQm8XETIvlDMBLSzc4y17Gup//aAAwDAQACAAMAAAAQBA//xAAWEQADAAAAAAAAAAAAAAAAAAAQESH/2gAIAQMBAT8QiH//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAgEAEAAQQBBQEAAAAAAAAAAAABEQAhMUGBUWFxkcHx/9oACAEBAAE/ED/mrZYnG/yjEIYY7h8OtAWJ02TirEcFSyvmjMK0IMcxNCWHqv/Z" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/e5e1eb4ed49dca622652c015529f2f52/2f037/canvas-events-cover.jpg 930w,
/static/e5e1eb4ed49dca622652c015529f2f52/47498/canvas-events-cover.jpg 1200w" sizes="(max-width: 1200px) 100vw, 1200px" /><img loading="lazy" sizes="(max-width: 1200px) 100vw, 1200px" srcset="/static/e5e1eb4ed49dca622652c015529f2f52/2f037/canvas-events-cover.jpg 930w,
/static/e5e1eb4ed49dca622652c015529f2f52/47498/canvas-events-cover.jpg 1200w" src="/static/e5e1eb4ed49dca622652c015529f2f52/47498/canvas-events-cover.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></figure><section class="post-full-content css-1t8n8jv eqwqi9m0"><div class="post-content"><p>Do you need a simple onClick for your canvas shapes? But canvas doesn’t have API for such listeners. You can listen to events only on whole canvas, not on part of it. I will describe two main approaches how to go around this problem.</p>
<blockquote>
<p>NOTE! I will not use addHitRegion API because for the current moment (year 2017) it is still unstable and not fully supported. But you may take a look at it.</p>
</blockquote>
<p>Let start from simple html5 canvas graphics. Imagine we want to draw several circles on a page.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#x27;canvas&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&#x27;2d&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// create circles to draw</span>
<span class="token keyword">const</span> circles <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    x<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
    y<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
    radius<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    color<span class="token operator">:</span> <span class="token string">&#x27;rgb(255,0,0)&#x27;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    x<span class="token operator">:</span> <span class="token number">70</span><span class="token punctuation">,</span>
    y<span class="token operator">:</span> <span class="token number">70</span><span class="token punctuation">,</span>
    radius<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    color<span class="token operator">:</span> <span class="token string">&#x27;rgb(0,255,0)&#x27;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// draw circles</span>
circles<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">circle</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>circle<span class="token punctuation">.</span>x<span class="token punctuation">,</span> circle<span class="token punctuation">.</span>y<span class="token punctuation">,</span> circle<span class="token punctuation">.</span>radius<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> circle<span class="token punctuation">.</span>color<span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p><a href="http://codepen.io/lavrton/pen/QdePBY" target="_blank" rel="nofollow noopener noreferrer">Open demo</a></p>
<p>Now we can simply listen to clicks on a WHOLE canvas:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">canvas<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#x27;click&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;canvas click&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p><strong>But we want to listen to clicks on a circle. How to do this? How to detect that we clicked on a circle?</strong></p>
<h2>Approach #1 — use power of math</h2>
<p>As we have information about our circle’s coordinates and sizes we can simply use mathematics to detect a click on a circle with trivial calculations. All we need is to get mouse position from click event and check all circles for intersection:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">isIntersect</span><span class="token punctuation">(</span><span class="token parameter">point<span class="token punctuation">,</span> circle</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>x<span class="token operator">-</span>circle<span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token punctuation">(</span>point<span class="token punctuation">.</span>y <span class="token operator">-</span> circle<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> circle<span class="token punctuation">.</span>radius<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

canvas<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#x27;click&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> pos <span class="token operator">=</span> <span class="token punctuation">{</span>
    x<span class="token operator">:</span> e<span class="token punctuation">.</span>clientX<span class="token punctuation">,</span>
    y<span class="token operator">:</span> e<span class="token punctuation">.</span>clientY
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  circles<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">circle</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isIntersect</span><span class="token punctuation">(</span>mousePoint<span class="token punctuation">,</span> circle<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#x27;click on circle: &#x27;</span> <span class="token operator">+</span> circle<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>This approach is very common and widely used in many projects. You can easily find math functions for more complex shapes such as rectangles, ellipses, polygons, etc.</p>
<p>This approach is very good and it can be ultra fast if you don’t have a huge number of shapes.</p>
<p>But it is very hard to use this approach for very complex shapes. For example, you are using lines with quadratic curves.</p>
<h2>Approach #2 — emulating hit region</h2>
<p>The idea of hit regions is simple — we just need to get pixel under clicked area and find a shape that has the same color:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">hasSameColor</span><span class="token punctuation">(</span><span class="token parameter">color<span class="token punctuation">,</span> circle</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> circle<span class="token punctuation">.</span>color <span class="token operator">===</span> color<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

canvas<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#x27;click&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> mousePos <span class="token operator">=</span> <span class="token punctuation">{</span>
    x<span class="token operator">:</span> e<span class="token punctuation">.</span>clientX <span class="token operator">-</span> canvas<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">,</span>
    y<span class="token operator">:</span> e<span class="token punctuation">.</span>clientY <span class="token operator">-</span> canvas<span class="token punctuation">.</span>offsetTop
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// get pixel under cursor</span>
  <span class="token keyword">const</span> pixel <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getImageData</span><span class="token punctuation">(</span>mousePos<span class="token punctuation">.</span>x<span class="token punctuation">,</span> mousePos<span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>data<span class="token punctuation">;</span>

  <span class="token comment">// create rgb color for that pixel</span>
  <span class="token keyword">const</span> color <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">rgb(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pixel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pixel<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pixel<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

  <span class="token comment">// find a circle with the same colour</span>
  circles<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">circle</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">hasSameColor</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> circle<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#x27;click on circle: &#x27;</span> <span class="token operator">+</span> circle<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p> But exactly this approach will not work, because it may have shapes with the same color, right? To avoid such collision we should create a special “hit graph” canvas. It will have almost the same shapes but each shape will have a unique color. So we need to generate random colors for each circle:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// colorsHash for saving references of all created circles</span>
<span class="token keyword">const</span> colorsHash <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getRandomColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> r <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> g <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">rgb(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>r<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>g<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>



<span class="token keyword">const</span> circles <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
 id<span class="token operator">:</span> <span class="token string">&#x27;1&#x27;</span><span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span> radius<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">&#x27;rgb(255,0,0)&#x27;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
 id<span class="token operator">:</span> <span class="token string">&#x27;2&#x27;</span><span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">70</span><span class="token punctuation">,</span> radius<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">&#x27;rgb(0,255,0)&#x27;</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// generate unique colors</span>
circles<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">circle</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 <span class="token comment">// repeat until we find trully unique colour</span>
 <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> colorKey <span class="token operator">=</span> <span class="token function">getRandomColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// if colours is unique</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>colorsHash<span class="token punctuation">[</span>colorKey<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment">// set color for hit canvas</span>
       circle<span class="token punctuation">.</span>colorKey <span class="token operator">=</span> colorKey<span class="token punctuation">;</span>
       <span class="token comment">// save reference </span>
       colorsHash<span class="token punctuation">[</span>colorKey<span class="token punctuation">]</span> <span class="token operator">=</span> circle<span class="token punctuation">;</span>
       <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>After that, we need to draw each shape TWICE. First on visible canvas, then on “hit” canvas.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">circles<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">circle</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// draw on &quot;scene&quot; canvas first</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>circle<span class="token punctuation">.</span>x<span class="token punctuation">,</span> circle<span class="token punctuation">.</span>y<span class="token punctuation">,</span> circle<span class="token punctuation">.</span>radius<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> circle<span class="token punctuation">.</span>color<span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token comment">// then draw on offscren &quot;hit&quot; canvas</span>
  hitCtx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  hitCtx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>circle<span class="token punctuation">.</span>x<span class="token punctuation">,</span> circle<span class="token punctuation">.</span>y<span class="token punctuation">,</span> circle<span class="token punctuation">.</span>radius<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  hitCtx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> circle<span class="token punctuation">.</span>colorKey<span class="token punctuation">;</span>
  hitCtx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Now when you click on canvas all you need is to take a pixel on the hit canvas and find a shape with the same color. And this actions are ultra fast and you don’t need to iterate over ALL shapes. Also, it doesn’t matter how complex your shape is. Draw whatever you want and just use different colors for each shape.</p>
<p><a href="http://codepen.io/lavrton/pen/OWKYMr" target="_blank" rel="nofollow noopener noreferrer">Demo with the full code</a></p>
<h2>Which approach is better?</h2>
<p>It depends. The main bottleneck of the second “hit” approach is that you have to draw shapes twice. So performance can drop twice! But drawing on hit canvas can be simpler. You can skip shadows and strokes there, you may simplify some shapes, for instance, replace a text with just a rectangle. But AFTER drawing is finished this approach can be ultra fast. Because taking a pixel and accessing to a hash of stored shapes is very fast operation.</p>
<h2>Can they be used together?</h2>
<p>Sure. Several canvas libs use such mixed approach.</p>
<p>It works in this way:</p>
<p>For each shape, you have to calculate simplified bounding rectangles (x, y, width, height). Then you use first “math” approach for filtering shapes that have an intersection with mouse position and bounding rectangle. After that you can draw hit and test intersection with the second approach for more accurate result.</p>
<h2>Why not just use SVG for such case?</h2>
<p>Because sometimes canvas can be more performant and more appropriate for your high-level task. Again, it depends on a task. So canvas vs SVG is out of the context of this post. And if you want to use canvas and have a hit detection you have to use something, right?</p>
<h2>What about other events? Like mousemove, mouseenter, etc?</h2>
<p>You just need to add some extra code into described approaches. And you can emulate all other events once you can 100% detect a shape under the mouse.</p>
<h2>Are there any good ready-to-use solutions?</h2>
<p>Sure. Just try to google “html5 canvas framework”. But my personal recommendation is <a href="http://konvajs.github.io/" target="_blank" rel="nofollow noopener noreferrer">http://konvajs.github.io/</a>. Almost forgot, I am a maintainer of this library. Konva uses only second approach and it has support for all mouse and touch events that we usually have for DOM elements (and even more, like drag&amp;drop).</p></div></section><hr/><div style="text-align:center"><img src="/static/d0b7acc08864a814c399f5bd88540f65/25252/anton.jpg" alt="Anton Lavrenov" style="margin-right:25px;width:100px;border-radius:50px"/>Personal blog by <a href="https://twitter.com/lavrton">Anton Lavrenov</a>.</div><hr/><footer class="css-1o98v2d e5xc5md0"><div shortname="lavrton-com" config="[object Object]" id="disqus_thread"></div></footer></article></div></main><aside class="read-next css-1x0l29j"><div class="css-s2cjas"><div class="css-12kejdt e1qa4i0i6"><article class="css-xng9va e1x0g4110"><header class="css-1d05jhl e1x0g4111"><small class="css-qbcumt e1x0g4112">— <!-- -->Anton Lavrenov Blog<!-- --> —</small><h3 class="css-y0gtj6 e1x0g4113"><a href="/tags/canvas/">canvas</a></h3></header><div class="css-1x76w68 e1x0g4114"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"></path></svg></div><div class="css-1mqgav7 e1x0g4115"><ul><li><a href="/case-study-seat-reservation-widget/">Case study: Seats Reservation Widget with Javascript</a></li><li><a href="/case-study-video-editor-for-stream/">Case study: Design Editor for Video Streams</a></li><li><a href="/case-study-image-labeling-for-machine-learning/">Case study: Image Labeling with JavaScript</a></li></ul></div><footer class="css-t8u9qr e1x0g4116"><a href="/tags/canvas/">See all 5 posts<!-- --> →</a></footer></article><article class="post-card css-1eugmea "><a class="css-kufnxr post-card-image-link" href="/optimizing-react-application-with-mobx-f101785379d9/"><div class="post-card-image css-8kte6t e1pcw8p70"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:100%"><div aria-hidden="true" style="width:100%;padding-bottom:66.66666666666667%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQCBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGDXMVSmH//xAAZEAACAwEAAAAAAAAAAAAAAAAAAwECEiD/2gAIAQEAAQUCqpckpWZrx//EABURAQEAAAAAAAAAAAAAAAAAABAh/9oACAEDAQE/AYf/xAAWEQADAAAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8BrKz/xAAbEAACAQUAAAAAAAAAAAAAAAAAAZEDICEyM//aAAgBAQAGPwLNRSdFJsrP/8QAGhABAAEFAAAAAAAAAAAAAAAAAQARIDFxof/aAAgBAQABPyHEl0gCvNE2y//aAAwDAQACAAMAAAAQAy//xAAXEQADAQAAAAAAAAAAAAAAAAAAARFR/9oACAEDAQE/EJgiP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QK//EABsQAQACAgMAAAAAAAAAAAAAAAEAESAhYXGx/9oACAEBAAE/ENIodFHst6jixjAFO8P/2Q==" alt="Optimizing React application with mobx cover image" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/7e1b8af93cf8f46a0defa94922cfaf1d/2f037/react-mobx-perf-cover.jpg 930w,
/static/7e1b8af93cf8f46a0defa94922cfaf1d/47498/react-mobx-perf-cover.jpg 1200w" sizes="(max-width: 1200px) 100vw, 1200px" /><img loading="lazy" sizes="(max-width: 1200px) 100vw, 1200px" srcset="/static/7e1b8af93cf8f46a0defa94922cfaf1d/2f037/react-mobx-perf-cover.jpg 930w,
/static/7e1b8af93cf8f46a0defa94922cfaf1d/47498/react-mobx-perf-cover.jpg 1200w" src="/static/7e1b8af93cf8f46a0defa94922cfaf1d/47498/react-mobx-perf-cover.jpg" alt="Optimizing React application with mobx cover image" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div></a><div class="post-card-content css-123mfn9 e1pcw8p71"><a class="css-t0tfly post-card-content-link" href="/optimizing-react-application-with-mobx-f101785379d9/"><header class="post-card-header"><span class="css-z4f0wj e1pcw8p72">react</span><h2 class="css-8kn4zf e1pcw8p73">Optimizing React application with mobx</h2></header><section class="css-1pcdrot e1pcw8p74"><p>From 1.5 sec to 50–100ms (per update) There is my short story about how I improved performance of the web-app by 10x with just a simple…</p></section></a><footer class="post-card-meta css-1uyhyqd e1pcw8p75"><span class="css-zb10i8 e1pcw8p710">3<!-- --> min read</span></footer></div></article><article class="post-card css-1eugmea "><a class="css-kufnxr post-card-image-link" href="/javascript-loops-how-to-handle-async-await-6252dd3c795/"><div class="post-card-image css-8kte6t e1pcw8p70"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:100%"><div aria-hidden="true" style="width:100%;padding-bottom:56.236559139784944%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgT/xAAVAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAAB2OS2rkuFf//EABgQAQADAQAAAAAAAAAAAAAAAAEAAhAR/9oACAEBAAEFAqhOGEM//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8BZ//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABgQAQEAAwAAAAAAAAAAAAAAAAEAEDFR/9oACAEBAAE/IWbjtBkL/9oADAMBAAIAAwAAABADH//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxCRj//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/ECv/xAAaEAEBAQEAAwAAAAAAAAAAAAABACERMUFR/9oACAEBAAE/EFUaPrfMM73h9LCEIZf/2Q==" alt="JavaScript loops - how to handle async/await cover image" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/c83567175db202b5488ea83c36a10dfd/2f037/async-loops-cover2.jpg 930w,
/static/c83567175db202b5488ea83c36a10dfd/23f4e/async-loops-cover2.jpg 1860w,
/static/c83567175db202b5488ea83c36a10dfd/4a461/async-loops-cover2.jpg 2560w" sizes="(max-width: 2560px) 100vw, 2560px" /><img loading="lazy" sizes="(max-width: 2560px) 100vw, 2560px" srcset="/static/c83567175db202b5488ea83c36a10dfd/2f037/async-loops-cover2.jpg 930w,
/static/c83567175db202b5488ea83c36a10dfd/23f4e/async-loops-cover2.jpg 1860w,
/static/c83567175db202b5488ea83c36a10dfd/4a461/async-loops-cover2.jpg 2560w" src="/static/c83567175db202b5488ea83c36a10dfd/4a461/async-loops-cover2.jpg" alt="JavaScript loops - how to handle async/await cover image" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div></a><div class="post-card-content css-123mfn9 e1pcw8p71"><a class="css-t0tfly post-card-content-link" href="/javascript-loops-how-to-handle-async-await-6252dd3c795/"><header class="post-card-header"><span class="css-z4f0wj e1pcw8p72">javascript</span><h2 class="css-8kn4zf e1pcw8p73">JavaScript loops - how to handle async/await</h2></header><section class="css-1pcdrot e1pcw8p74"><p>How to run async loops in sequence or in parallel? Before doing asynchronous magic with loops I want to remind you how we write classical…</p></section></a><footer class="post-card-meta css-1uyhyqd e1pcw8p75"><span class="css-zb10i8 e1pcw8p710">3<!-- --> min read</span></footer></div></article></div></div></aside><footer class="css-1x0l29j css-1amu95n"><div class="css-s2cjas css-1ugh7vk"><section class="copyright"><a href="/">Anton Lavrenov Blog</a> © <!-- -->2022</section><nav class="css-j0kq43 e15d5ezy0"><a href="/">Latest Posts</a><a href="https://twitter.com/lavrton" target="_blank" rel="noopener noreferrer">Twitter</a><a href="/rss.xml">RSS</a></nav></div></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/hit-region-detection-for-html5-canvas-and-how-to-listen-to-click-events-on-canvas-shapes-815034d7e9f8/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-3392d9424e41ca5a632f.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-50ab95a347734da18d4d.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-7d910b2c550e5548c4e6.js"],"component---src-pages-sent-tsx":["/component---src-pages-sent-tsx-ce246348fa368ba95111.js"],"component---src-templates-post-tsx":["/component---src-templates-post-tsx-ab04a82b64e57df04446.js"],"component---src-templates-tags-tsx":["/component---src-templates-tags-tsx-62e274f92e687ad0d553.js"]};/*]]>*/</script><script src="/component---src-templates-post-tsx-ab04a82b64e57df04446.js" async=""></script><script src="/c44e937923e4cbf27ce51c07ed03d2aa67625591-f644a3b2640002cf2a76.js" async=""></script><script src="/commons-0791c234037d212357cf.js" async=""></script><script src="/29107295-4662ce85ded940e8603c.js" async=""></script><script src="/app-3392d9424e41ca5a632f.js" async=""></script><script src="/styles-f7a64dad1c13bebc31fd.js" async=""></script><script src="/framework-93d3a746c3cf42acdafc.js" async=""></script><script src="/webpack-runtime-ac89df50191049f928b5.js" async=""></script></body></html>